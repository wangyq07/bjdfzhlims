<x-dialog #dialogmodifyquali  width="70%" height="80%" [(visible)]="modifyvisible"   
  placement="top" (confirm)="modifyconfirm()">
    <app-modifyqualification style="width:100%;height: 100%;" #modifiqual></app-modifyqualification>
</x-dialog>
<x-row>
    <x-col span=8 style="display: inline;"> 
      <div   class="au-panel au-content" au-adaption [outerHeight]="50"> 
        <x-table [columns]="columns"
        #tablecom
        [data]="data"
        [(index)]="index"
        [(size)]="size"
        [total]="total" 
        (indexChange)="indexChange($event)"
        (sortChange)="sortChange($event)"
        [virtualScroll]="true"  
        (activatedRowChange)="activatedRow($event)"
        [adaptionHeight]="124"
        loading
        > 
        </x-table>
      </div>
    </x-col>
    <x-col span=16>
      <div   class="au-panel au-content" au-adaption [outerHeight]="50"> 
      <x-row style="height: 20px;"></x-row>
      <x-row>
        <x-col span=5><x-button icon="ado-check" style="color: green;" plain type="primary" (click)="acction(1)">提交</x-button></x-col>
       
        </x-row>
        <x-row style="height: 20px;"></x-row>
        <x-row>
          <x-col span=12>委托客户:{{delegatecustomer}}</x-col><x-col span=6>付款客户:{{paycustomer}}</x-col><x-col span=6>受检客户:{{testcustomer}}</x-col>
        </x-row>
        <x-row style="height: 20px;"></x-row>
        <x-row>
        <x-col span=4>样品来源:{{samplesource}}</x-col>
        <x-col span=4>是否判定:{{ispanding}}</x-col>
        <x-col span=4>资质盖章:{{seal}}</x-col>
        <x-col span=4>服务类型:{{servicetype}}</x-col>
        </x-row> 
        <x-row style="height: 20px;"></x-row>
        <x-row >
         <x-col span=24> 
           
        <table id="sampledata" style="height: 100%;width: 100%;" border="10">
          <thead>
            <td  style="  width:10%; text-align: center;">项目</td>
            <td  style=" width:5%; text-align: center;">报告</td>
            <td  style=" width:10%; text-align: center;">领域</td>
            <td  style=" width:10%; text-align: center;">样品</td> 
            <td  style=" width:10%; text-align: center">项目</td>
            <td  style="width:35%;  text-align: center">方法</td>
            <td  style="width:10%;  text-align: center">限值</td>
            <td  style=" width:5%; text-align: center">外包</td>
            <td  style=" width:5%; text-align: center">次数</td>
          </thead>
          <tr *ngFor="let project of projects">
            <td   style=" width:10%; text-align: center;border:1">{{project.projectnumber}}</td> 
            <td style="width:5%;  text-align: center;border:1">{{project.reportcount}}</td>
            <td style=" width:10%; text-align: center;border:1">{{project.domain.label}}</td>
            <td     style="width: 10%; text-align: center;border:1">
              <ng-container *ngFor="let sample of project.samples;">
              {{sample.samplename}}<br>
              </ng-container>
            </td>  
             <td  style=" width:10%; text-align: center;border:1">
              <ng-container *ngFor="let sample of project.samples"> 
              <ng-container *ngFor="let t of sample.testprojects">
              <x-link style="cursor: pointer;color:blue" (click)="projectclick(t,sample)">{{t.testproject}}</x-link><br>
            </ng-container> 
            </ng-container>
            </td>
            <td  style=" width:35%; text-align: center;border:1">
              <ng-container *ngFor="let sample of project.samples;"> 
              <ng-container *ngFor="let f of sample.testprojects;">
              {{f.methodname}}<br>
            </ng-container> 
          </ng-container>
            </td>
            <td  style=" width:10%; text-align: center;border:1">
                <ng-container *ngFor="let sample of project.samples;"> 
                <ng-container *ngFor="let q of sample.testprojects;">
                {{q.limitmin}}-{{q.limitmax}}<br>
              </ng-container> 
            </ng-container>
              </td>
            <td  style="width:5%;  text-align: center;border:1">
              <ng-container *ngFor="let sample of project.samples;"> 
                <ng-container *ngFor="let d of sample.testprojects;">
              {{d.isextern}}<br>
            </ng-container> 
          </ng-container>
            </td>
            <td  style=" width:5%; text-align: center;border:1">
              <ng-container *ngFor="let sample of project.samples;"> 
                <ng-container *ngFor="let e of sample.testprojects;">
              {{e.testcount}}<br>
            </ng-container> 
            </ng-container>
            </td>
          </tr> 
        </table>
          
         </x-col>
        </x-row>
      </div>
  
    </x-col>
  </x-row> 
  
    
    

