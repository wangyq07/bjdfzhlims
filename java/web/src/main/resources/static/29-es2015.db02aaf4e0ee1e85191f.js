(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"1K/t":function(e,t,s){"use strict";s.r(t),s.d(t,"SamplesupplementModule",(function(){return Z}));var n=s("ofXK"),a=s("tyNb"),i=s("wd/R"),r=s("rdXg"),o=s("wTjX"),c=s("x2e1"),l=s("fXoL");function d(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.projectrowspan),l.yb(1),l.xc(e.projectname)}}function p(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.samplename)}}function b(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.brand)}}function u(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.samplespec)}}function m(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.samplequality)}}function h(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.manudate)}}function g(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.executegrade)}}function f(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.executestandard)}}function w(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.wrapherproperties)}}function x(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.judge)}}function v(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.deleverdate)}}function y(e,t){if(1&e&&(l.Ob(0,"td"),l.wc(1),l.Nb()),2&e){const e=l.Yb().$implicit;l.zb("rowspan",e.samplerowspan),l.yb(1),l.xc(e.specialcondition)}}function O(e,t){if(1&e&&(l.Ob(0,"tr"),l.uc(1,d,2,2,"td",6),l.uc(2,p,2,2,"td",6),l.uc(3,b,2,2,"td",6),l.uc(4,u,2,2,"td",6),l.uc(5,m,2,2,"td",6),l.uc(6,h,2,2,"td",6),l.uc(7,g,2,2,"td",6),l.uc(8,f,2,2,"td",6),l.uc(9,w,2,2,"td",6),l.uc(10,x,2,2,"td",6),l.uc(11,v,2,2,"td",6),l.uc(12,y,2,2,"td",6),l.Ob(13,"td"),l.wc(14),l.Nb(),l.Ob(15,"td"),l.wc(16),l.Nb(),l.Nb()),2&e){const e=t.$implicit,s=t.index;l.yb(1),l.ec("ngIf",e.projectindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(1),l.ec("ngIf",e.sampleindex==s),l.yb(2),l.xc(e.testproject),l.yb(2),l.xc(e.standardname)}}let M=(()=>{class e{constructor(){this.data=[]}ngOnInit(){}setdata(e,t){var s=0,n=0,a=0,r=0,o=[],c=[];e.map(e=>{var l;s=0,null===(l=e.samples)||void 0===l||l.map(a=>{var o;n=0,null===(o=a.testprojects)||void 0===o||o.map(r=>{s+=1,n+=1,this.data.push({projectid:e.id,sampleid:a.id,projectname:e.projectnumber,samplename:a.samplename,brand:a.brand,samplespec:a.samplespect,samplequality:a.samplequality,manudate:i(a.manudate).format("YYYY.MM.DD"),executegrade:a.executegrade,specialcondition:a.specialcondition,wrapherproperties:a.wrapherproperties+","+a.status.label,judge:t,deleverdate:i(a.deleverdate).format("YYYY.MM.DD"),testproject:r.testproject,standardname:r.standardname,executestandard:a.executestandard})}),c.push({id:a.id,rowspan:n,index:r}),r+=n}),o.push({id:e.id,rowspan:s,index:a}),a+=s}),this.data.map(e=>{var t=o.findIndex(t=>t.id==e.projectid);-1!=t&&(e.projectrowspan=o[t].rowspan,e.projectindex=o[t].index),-1!=(t=c.findIndex(t=>t.id==e.sampleid))&&(e.samplerowspan=c[t].rowspan,e.sampleindex=c[t].index)}),console.log(this.data)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Cb({type:e,selectors:[["app-outputadditionallist"]],decls:34,vars:1,consts:[["border","1","cellspacing","0",2,"width","100%","height","100%"],["align","center",2,"width","8%"],["align","center",2,"width","5%"],["align","center",2,"width","4%"],["align","center",2,"width","30%"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,t){1&e&&(l.Ob(0,"table",0),l.Ob(1,"caption"),l.wc(2,"\u5317\u4eac\u4e1c\u65b9\u7eb5\u6a2a\u4ea7\u54c1\u68c0\u6d4b\u6709\u9650\u516c\u53f8 \u59d4\u6258\u68c0\u6d4b\u534f\u8bae\u4e66\u9644\u9875\uff08\u4e00\uff09 "),l.Nb(),l.Ob(3,"thead"),l.Ob(4,"td",1),l.wc(5,"\u9879\u76ee\u53f7"),l.Nb(),l.Ob(6,"td",1),l.wc(7,"\u6837\u54c1\u540d\u79f0"),l.Nb(),l.Ob(8,"td",2),l.wc(9,"\u5546\u6807"),l.Nb(),l.Ob(10,"td",2),l.wc(11,"\u89c4\u683c"),l.Nb(),l.Ob(12,"td",3),l.wc(13,"\u6570\u91cf"),l.Nb(),l.Ob(14,"td",2),l.wc(15,"\u751f\u4ea7\u65e5\u671f"),l.Nb(),l.Ob(16,"td",2),l.wc(17,"\u7b49\u7ea7"),l.Nb(),l.Ob(18,"td",2),l.wc(19,"\u6267\u884c\u6807\u51c6"),l.Nb(),l.Ob(20,"td",2),l.wc(21,"\u5305\u88c5\u53ca\u6027\u72b6"),l.Nb(),l.Ob(22,"td",2),l.wc(23,"\u5224\u5b9a"),l.Nb(),l.Ob(24,"td",2),l.wc(25,"\u4ea4\u4ed8\u65f6\u95f4"),l.Nb(),l.Ob(26,"td",2),l.wc(27,"\u7279\u6b8a\u8981\u6c42"),l.Nb(),l.Ob(28,"td",2),l.wc(29,"\u68c0\u6d4b\u9879\u76ee"),l.Nb(),l.Ob(30,"td",4),l.wc(31,"\u68c0\u6d4b\u4f9d\u636e"),l.Nb(),l.Nb(),l.Ob(32,"tbody"),l.uc(33,O,17,14,"tr",5),l.Nb(),l.Nb()),2&e&&(l.yb(33),l.ec("ngForOf",t.data))},directives:[n.s,n.t],styles:["@media print{@page{[_nghost-%COMP%]{size:landscape}}}[_nghost-%COMP%]   div.PageBreak[_ngcontent-%COMP%]{page-break-after:always}[_nghost-%COMP%]   div.page[_ngcontent-%COMP%]{writing-mode:tb-rl;height:80%;margin:10% 0}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{font-size:18px;border-collapse:collapse;text-align:center;margin:0 auto}[_nghost-%COMP%]   .al[_ngcontent-%COMP%]{width:210mm;height:297mm}[_nghost-%COMP%]   div.page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-right:80pt;filter:progid:DXImageTransform.Microsoft.BasicImage(Rotat ion=1)}"]}),e})();var N=s("TPaT"),C=s("LZRM"),P=s("GTjD"),j=s("Puy/"),_=s("K7LP"),k=s("BzWU"),I=s("SfH5"),Y=s("oJeN"),z=s("P0lq"),V=s("3Pt+"),q=s("6HQn");let J=(()=>{class e{constructor(e){this.commonservice=e,this.testtypeid=999,this.statusid=999,this.storeid=999,this.processid=999,this.oldtesttypeid=0,this.oldstatusid=0,this.oldstoreid=0,this.oldprocessid=0,this.status=[],this.testtype=[],this.curentsample={},this.process=[],this.store=[]}ngDoCheck(){this.setobjetproperti(this.curentsample,"testtype",this.oldtesttypeid,this.testtypeid,this.testtype),this.setobjetproperti(this.curentsample,"status",this.oldstatusid,this.statusid,this.status),this.setobjetproperti(this.curentsample,"process",this.oldprocessid,this.processid,this.process),this.setobjetproperti(this.curentsample,"store",this.oldstoreid,this.storeid,this.store)}ngOnInit(){this.commonservice.gettesttype().subscribe(e=>this.testtype=e.list),this.commonservice.getsamplestatus().subscribe(e=>this.status=e.list),this.commonservice.getsamplestore().subscribe(e=>this.store=e.list),this.commonservice.getsampleprocess().subscribe(e=>this.process=e.list)}setobjetproperti(e,t,s,n,a){s!=n&&(e[t]=a.find(e=>e.id==n),s=n)}setSample(e){var t,s,n;this.curentsample=k.a.deepClone(e),this.curentsample.deleverdate=e.deleverdate,this.curentsample.manudate=e.manudate,null!=this.curentsample.testtype&&0!=this.curentsample.testtype.id?this.testtypeid=Number(this.curentsample.testtype.id):this.curentsample.testtype={id:999,label:"\u5176\u5b83"},null!=this.curentsample.status&&0!=this.curentsample.status.id?this.statusid=Number(null===(t=this.curentsample.status)||void 0===t?void 0:t.id):this.curentsample.status={id:999,label:"\u5176\u5b83"},null!=this.curentsample.store&&0!=this.curentsample.store.id?this.storeid=Number(null===(s=this.curentsample.store)||void 0===s?void 0:s.id):this.curentsample.store={id:999,label:"\u5176\u5b83"},null!=this.curentsample.process&&0!=this.curentsample.process.id?this.processid=Number(null===(n=this.curentsample.process)||void 0===n?void 0:n.id):this.curentsample.process={id:999,label:"\u5176\u5b83"}}get samplestatusdisabled(){return 999!=this.statusid}get sampletesttypedisabled(){return 999!=this.testtypeid}get sampleprocessdisabled(){return 999!=this.processid}get samplestoredisabled(){return 999!=this.storeid}}return e.\u0275fac=function(t){return new(t||e)(l.Ib(c.c))},e.\u0275cmp=l.Cb({type:e,selectors:[["app-updatesample"]],decls:36,vars:17,consts:[[2,"height","20px"],["span","8"],["label","\u6837\u54c1\u5904\u7406","direction","row",3,"data","ngModel","ngModelChange"],["span","4"],["label","\u5176\u5b83","direction","row",3,"disabled","ngModel","ngModelChange"],["label","\u6837\u54c1\u72b6\u6001","direction","row",3,"data","ngModel","ngModelChange"],[2,"height","30px"],["label","\u751f\u4ea7\u65e5\u671f\u6216\u6279\u53f7","direction","row",3,"ngModel","ngModelChange"],["label","\u62a5\u544a\u4ea4\u4ed8\u65f6\u95f4","direction","row",3,"ngModel","ngModelChange"],["span","12"],["label","\u7279\u6b8a\u8981\u6c42","direction","row",3,"ngModel","ngModelChange"],["label","\u89c4\u683c","direction","row",3,"ngModel","ngModelChange"],["label","\u6837\u54c1\u6570\u91cf","direction","row",3,"ngModel","ngModelChange"],["label","\u4ea7\u54c1\u6267\u884c\u6807\u51c6","direction","row",3,"ngModel","ngModelChange"],["label","\u5546\u6807","direction","row",3,"ngModel","ngModelChange"],["label","\u6837\u54c1\u7b49\u7ea7","direction","row",3,"ngModel","ngModelChange"],["label","\u6837\u54c1\u5305\u88c5","direction","row",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(l.Jb(0,"x-row",0),l.Ob(1,"x-row"),l.Ob(2,"x-col",1),l.Ob(3,"x-select",2),l.Vb("ngModelChange",(function(e){return t.processid=e})),l.Nb(),l.Nb(),l.Ob(4,"x-col",3),l.Ob(5,"x-input",4),l.Vb("ngModelChange",(function(e){return t.curentsample.processother=e})),l.Nb(),l.Nb(),l.Ob(6,"x-col",1),l.Ob(7,"x-select",5),l.Vb("ngModelChange",(function(e){return t.statusid=e})),l.Nb(),l.Nb(),l.Ob(8,"x-col",3),l.Ob(9,"x-input",4),l.Vb("ngModelChange",(function(e){return t.curentsample.statusother=e})),l.Nb(),l.Nb(),l.Nb(),l.Jb(10,"x-row",6),l.Ob(11,"x-row"),l.Ob(12,"x-col",1),l.Ob(13,"x-date-picker",7),l.Vb("ngModelChange",(function(e){return t.curentsample.manudate=e})),l.Nb(),l.Nb(),l.Ob(14,"x-col",1),l.Ob(15,"x-date-picker",8),l.Vb("ngModelChange",(function(e){return t.curentsample.deleverdate=e})),l.Nb(),l.Nb(),l.Nb(),l.Jb(16,"x-row",6),l.Ob(17,"x-row"),l.Ob(18,"x-col",9),l.Ob(19,"x-input",10),l.Vb("ngModelChange",(function(e){return t.curentsample.specialcondition=e})),l.Nb(),l.Nb(),l.Nb(),l.Jb(20,"x-row",6),l.Ob(21,"x-row"),l.Ob(22,"x-col",1),l.Ob(23,"x-input",11),l.Vb("ngModelChange",(function(e){return t.curentsample.samplespec=e})),l.Nb(),l.Nb(),l.Ob(24,"x-col",1),l.Ob(25,"x-input",12),l.Vb("ngModelChange",(function(e){return t.curentsample.samplequality=e})),l.Nb(),l.Nb(),l.Ob(26,"x-col",1),l.Ob(27,"x-input",13),l.Vb("ngModelChange",(function(e){return t.curentsample.executestandard=e})),l.Nb(),l.Nb(),l.Nb(),l.Jb(28,"x-row",6),l.Ob(29,"x-row"),l.Ob(30,"x-col",1),l.Ob(31,"x-input",14),l.Vb("ngModelChange",(function(e){return t.curentsample.brand=e})),l.Nb(),l.Nb(),l.Ob(32,"x-col",1),l.Ob(33,"x-input",15),l.Vb("ngModelChange",(function(e){return t.curentsample.executegrade=e})),l.Nb(),l.Nb(),l.Ob(34,"x-col",1),l.Ob(35,"x-input",16),l.Vb("ngModelChange",(function(e){return t.curentsample.wrapherproperties=e})),l.Nb(),l.Nb(),l.Nb()),2&e&&(l.yb(3),l.ec("data",t.process)("ngModel",t.processid),l.yb(2),l.ec("disabled",t.sampleprocessdisabled)("ngModel",t.curentsample.processother),l.yb(2),l.ec("data",t.status)("ngModel",t.statusid),l.yb(2),l.ec("disabled",t.samplestatusdisabled)("ngModel",t.curentsample.statusother),l.yb(4),l.ec("ngModel",t.curentsample.manudate),l.yb(2),l.ec("ngModel",t.curentsample.deleverdate),l.yb(4),l.ec("ngModel",t.curentsample.specialcondition),l.yb(4),l.ec("ngModel",t.curentsample.samplespec),l.yb(2),l.ec("ngModel",t.curentsample.samplequality),l.yb(2),l.ec("ngModel",t.curentsample.executestandard),l.yb(4),l.ec("ngModel",t.curentsample.brand),l.yb(2),l.ec("ngModel",t.curentsample.executegrade),l.yb(2),l.ec("ngModel",t.curentsample.wrapherproperties))},directives:[I.c,I.a,Y.a,V.q,V.t,z.a,q.a],styles:[""]}),e})();var D=s("qMpK"),$=s("l5Yv"),S=s("GvSL"),T=s("/pOC"),G=s("yO6f"),B=s("kXfN");const R=["modifisample"],H=["printtable"];function F(e,t){if(1&e){const e=l.Pb();l.Ob(0,"div",26),l.Ob(1,"x-link",27),l.Vb("click",(function(){l.lc(e);const s=t.$row;return l.Yb().projectclick(s)})),l.Nb(),l.Nb()}}function X(e,t){if(1&e){const e=l.Pb();l.Ob(0,"div",26),l.Ob(1,"x-button",28),l.Vb("click",(function(){return l.lc(e),l.Yb().copydata()})),l.Nb(),l.Nb()}}const L=function(e){return{actions:e}},W=[{path:"",component:(()=>{class e extends _.a{constructor(e,t,s,n,a,i,r,o){super(e),this.indexService=e,this.flowservice=t,this.sampleservice=s,this.contactservice=n,this.actroute=a,this.router=i,this.globalaudit=r,this.msg=o,this.modifyvisible=!1,this.taskid="",this.delegatecustomer="",this.testcustomer="",this.paycustomer="",this.servicetype="",this.ispanding="",this.seal="",this.samplesource="",this.projects=[],this.currentcontact={},this.contactid="",this.sampledata=[],this.columns=[{id:"actions",label:"\u64cd\u4f5c",width:100},{id:"samplename",label:"\u540d\u79f0",width:150,sort:!0},{id:"deleverdatelabel",label:"\u4ea4\u4ed8\u65f6\u95f4",width:150,sort:!0},{id:"manudatelabel",label:"\u751f\u4ea7\u65e5\u671f\u53ca\u6279\u53f7",width:150,sort:!0},{id:"processlabel",label:"\u5904\u7406\u65b9\u5f0f",width:150,sort:!0},{id:"statuslabel",label:"\u6837\u54c1\u72b6\u6001",width:150,sort:!0},{id:"samplespec",label:"\u89c4\u683c",width:150,sort:!0},{id:"brand",label:"\u5546\u6807",width:150,sort:!0},{id:"executestandard",label:"\u4ea7\u54c1\u6267\u884c\u6807\u51c6",width:150,sort:!0},{id:"wrapherproperties",label:"\u6837\u54c1\u5305\u88c5\u53ca\u6027\u72b6",width:150,sort:!0},{id:"samplequality",label:"\u6837\u54c1\u6570\u91cf",width:150,sort:!0},{id:"executegrade",label:"\u6837\u54c1\u7b49\u7ea7",width:150,sort:!0},{id:"specialcondition",label:"\u7279\u6b8a\u60c5\u51b5",width:150,sort:!0}],this.index=0,this.size=200,this.total=0,this.query={},null!=a&&a.params.subscribe(e=>{this.contactid=e.contactid,this.taskid=e.taskid,this.getData()})}gettypelable(e,t,s){return null!=t&&null!=t[e]&&null!=t[e].id?999==t[e].id?t[s]:t[e].label:""}projectclick(e){this.modifyvisible=!0,this.modifisample.setSample(e)}modifyconfirm(){this.projects.map(e=>{var t;null===(t=e.samples)||void 0===t||t.map(e=>{if(e.id==this.modifisample.curentsample.id){for(var t in e)"id"!=t&&(e[t]=this.modifisample.curentsample[t]);this.setsamplelabel(e)}})}),this.sampledata=[...this.sampledata]}getData(){this.contactservice.getcontactproject(this.contactid+"").subscribe(e=>{var t,s;if(this.currentcontact=e.contact,this.projects=e.projects,null!=this.currentcontact&&null!=this.currentcontact.contactcustomers){this.delegatecustomer="",this.testcustomer="",this.paycustomer="";var n=this.currentcontact.contactcustomers.filter(e=>1==e.customertype);if(n.length>0)for(var a=0;a<n.length;a++)0!=a&&(this.delegatecustomer=this.delegatecustomer+","),this.delegatecustomer=this.delegatecustomer+n[a].customername;var i=this.currentcontact.contactcustomers.find(e=>2==e.customertype);if(this.paycustomer=(null==i?void 0:i.customername)+"",i=this.currentcontact.contactcustomers.find(e=>3==e.customertype),this.testcustomer=(null==i?void 0:i.customername)+"",this.servicetype="",this.servicetype=(null===(t=this.currentcontact.service)||void 0===t?void 0:t.label)+"",this.ispanding=1==this.currentcontact.isjudgement?"\u662f":"\u5426",this.seal="",null!=this.currentcontact.seal)for(a=0;a<this.currentcontact.seal.length;a++)this.seal=this.seal+this.currentcontact.seal[a].label+",";this.samplesource=(null===(s=this.currentcontact.samplesource)||void 0===s?void 0:s.label)+""}this.printtable.setdata(this.projects,this.ispanding);var r={id:k.a.JsNewGuid(),type:0,label:"\u6240\u6709\u9879\u76ee",reportcount:0,domainlabel:"",pid:null,samples:[]};this.projects.map(e=>{e.label=e.projectnumber,e.pid=r.id,e.domainlabel=e.domain.label,r.reportcount=r.reportcount+e.reportcount,r.domainlabel=r.domainlabel+""+e.domain.label+",",e.samples.map(e=>{r.samples.push(e)}),e.type=1}),this.projects.push(r)})}ngOnInit(){}submit(){var e;this.flowservice.excutetask(this.taskid,{iscollection:1==(null===(e=this.currentcontact.samplesource)||void 0===e?void 0:e.id)?0:1,userid:this.indexService.auth.user.id+"",username:this.indexService.auth.user.name,contactid:this.currentcontact.id}).subscribe(e=>{this.msg.success("\u63d0\u4ea4\u6210\u529f\uff01")})}setsamplelabel(e){var t,s,n,a;e.storelabel=null===(t=e.store)||void 0===t?void 0:t.label,e.testtypelabel=null===(s=e.testtype)||void 0===s?void 0:s.label,e.statuslabel=null===(n=e.status)||void 0===n?void 0:n.label,e.processlabel=null===(a=e.process)||void 0===a?void 0:a.label,null!=e.deleverdate&&null!=e.deleverdate&&(e.deleverdatelabel=i(e.deleverdate).format("YYYY.MM.DD")),null!=e.deleverdate&&null!=e.deleverdate&&(e.manudatelabel=i(e.manudate).format("YYYY.MM.DD"))}save(){let e=[];var t=[];this.projects.map(s=>{var n;0!=s.type&&t.push(s),null===(n=s.samples)||void 0===n||n.map(t=>e.push(t))}),e.length>0&&this.sampleservice.supplimentupdatesamples(e).subscribe(e=>{this.printtable.setdata(t,this.ispanding),this.msg.success("\u4fdd\u5b58\u6210\u529f\uff01")})}copydata(){null!=this.modifisample.curentsample&&null!=this.modifisample.curentsample&&(this.sampledata.map(e=>{e.samplequality=this.modifisample.curentsample.samplequality,e.executegrade=this.modifisample.curentsample.executegrade,e.specialcondition=this.modifisample.curentsample.specialcondition,e.wrapherproperties=this.modifisample.curentsample.wrapherproperties,e.manudate=this.modifisample.curentsample.manudate,e.deleverdate=this.modifisample.curentsample.deleverdate,e.samplespec=this.modifisample.curentsample.samplespec,e.brand=this.modifisample.curentsample.brand,e.executestandard=this.modifisample.curentsample.executestandard,e.status=this.modifisample.curentsample.status,e.process=this.modifisample.curentsample.process,this.setsamplelabel(e)}),this.sampledata=[...this.sampledata])}action(e){var t;this.sampledata=[],null===(t=e.samples)||void 0===t||t.map(e=>{this.setsamplelabel(e),this.sampledata.push(e)})}genu(){r({printable:"printtable",type:"html",maxWidth:"98%",targetStyles:["*"],style:"@media print{@page {size:landscape}}"})}activechange(e){}IndexChange(e){}}return e.\u0275fac=function(t){return new(t||e)(l.Ib(o.a),l.Ib(N.a),l.Ib(P.a),l.Ib(C.a),l.Ib(a.a),l.Ib(a.e),l.Ib(j.a),l.Ib(D.c))},e.\u0275cmp=l.Cb({type:e,selectors:[["app-samplesupplement"]],viewQuery:function(e,t){var s;1&e&&(l.Bc(R,!0),l.Bc(H,!0)),2&e&&(l.ic(s=l.Wb())&&(t.modifisample=s.first),l.ic(s=l.Wb())&&(t.printtable=s.first))},features:[l.vb],decls:52,vars:25,consts:[["width","40%","height","40%","placement","top",3,"visible","backdropClose","hasBackdrop","visibleChange","confirm"],["dialogmodifyquali",""],[2,"width","100%","height","100%"],["modifisample",""],[2,"overflow","auto"],[2,"height","15px"],["span","2"],["icon","ado-check","type","primary","plain","",3,"click"],["icon","ado-save","type","primary","plain","",3,"click"],[2,"height","20px"],["span","12"],["span","6"],["span","4"],[2,"height","30px"],["span","5"],[2,"overflow","scroll","height","680px"],["au-adaption","",3,"data","nodeHeight","activatedChange"],["treeCom",""],["span","19"],["virtualScroll","","loading","",3,"data","columns","index","size","total","query","adaptionHeight","bodyColumnTpl","headColumnTpl","indexChange","sizeChange","activatedRowChange"],["projectlist",""],[2,"display","none"],["id","printtable",2,"height","100%","width","100%"],["printtable",""],["contactTpl",""],["headerTpl",""],[1,"au-table-actions"],["icon","fto-edit","title","\u4fee\u6539",3,"click"],["icon","far-copy","label","\u590d\u5236",2,"width","80",3,"click"]],template:function(e,t){if(1&e&&(l.Ob(0,"x-dialog",0,1),l.Vb("visibleChange",(function(e){return t.modifyvisible=e}))("confirm",(function(){return t.modifyconfirm()})),l.Jb(2,"app-updatesample",2,3),l.Nb(),l.Ob(4,"div",4),l.Jb(5,"x-row",5),l.Ob(6,"x-row"),l.Ob(7,"x-col",6),l.Ob(8,"x-button",7),l.Vb("click",(function(){return t.submit()})),l.wc(9,"\u63d0\u4ea4"),l.Nb(),l.Nb(),l.Ob(10,"x-col",6),l.Ob(11,"x-button",8),l.Vb("click",(function(){return t.save()})),l.wc(12,"\u4fdd\u5b58"),l.Nb(),l.Nb(),l.Ob(13,"x-col",6),l.Ob(14,"x-button",8),l.Vb("click",(function(){return t.genu()})),l.wc(15,"\u751f\u6210\u9644\u9875"),l.Nb(),l.Nb(),l.Nb(),l.Jb(16,"x-row",9),l.Ob(17,"x-row"),l.Ob(18,"x-col",10),l.wc(19),l.Nb(),l.Ob(20,"x-col",11),l.wc(21),l.Nb(),l.Ob(22,"x-col",11),l.wc(23),l.Nb(),l.Nb(),l.Jb(24,"x-row",9),l.Ob(25,"x-row"),l.Ob(26,"x-col",12),l.wc(27),l.Nb(),l.Ob(28,"x-col",12),l.wc(29),l.Nb(),l.Ob(30,"x-col",12),l.wc(31),l.Nb(),l.Ob(32,"x-col",12),l.wc(33),l.Nb(),l.Nb(),l.Jb(34,"x-row",13),l.Ob(35,"x-row"),l.Ob(36,"x-col",14),l.Ob(37,"div",15),l.Ob(38,"h4"),l.wc(39,"\u9879\u76ee"),l.Nb(),l.Ob(40,"x-tree",16,17),l.Vb("activatedChange",(function(e){return t.action(e)})),l.Nb(),l.Nb(),l.Nb(),l.Ob(42,"x-col",18),l.Ob(43,"x-table",19,20),l.Vb("indexChange",(function(e){return t.index=e}))("sizeChange",(function(e){return t.size=e}))("activatedRowChange",(function(e){return t.activechange(e)}))("indexChange",(function(e){return t.IndexChange(e)})),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(45,"div",21),l.Jb(46,"app-outputadditionallist",22,23),l.Nb(),l.uc(48,F,2,0,"ng-template",null,24,l.vc),l.uc(50,X,2,0,"ng-template",null,25,l.vc)),2&e){const e=l.jc(49),s=l.jc(51);l.ec("visible",t.modifyvisible)("backdropClose",!1)("hasBackdrop",!1),l.yb(19),l.yc("\u59d4\u6258\u5ba2\u6237:",t.delegatecustomer,""),l.yb(2),l.yc("\u4ed8\u6b3e\u5ba2\u6237:",t.paycustomer,""),l.yb(2),l.yc("\u53d7\u68c0\u5ba2\u6237:",t.testcustomer,""),l.yb(4),l.yc("\u6837\u54c1\u6765\u6e90:",t.samplesource,""),l.yb(2),l.yc("\u662f\u5426\u5224\u5b9a:",t.ispanding,""),l.yb(2),l.yc("\u8d44\u8d28\u76d6\u7ae0:",t.seal,""),l.yb(2),l.yc("\u670d\u52a1\u7c7b\u578b:",t.servicetype,""),l.yb(7),l.ec("data",t.projects)("nodeHeight",1.875),l.yb(3),l.ec("data",t.sampledata)("columns",t.columns)("index",t.index)("size",t.size)("total",t.total)("query",t.query)("adaptionHeight",240)("bodyColumnTpl",l.gc(21,L,e))("headColumnTpl",l.gc(23,L,s))}},directives:[$.a,J,I.c,I.a,S.a,T.a,G.a,M,B.a],styles:["[_nghost-%COMP%]   table[_ngcontent-%COMP%]{width:100%;background:var(--x-background);border-collapse:collapse;border:.0625rem solid var(--x-border-200)}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{border-bottom:.0625rem solid var(--x-border-200);text-align:left;padding:.5rem 1rem}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child > th[_ngcontent-%COMP%]{border-width:1px}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;color:var(--x-text-300)}[_nghost-%COMP%]   div.solid[_ngcontent-%COMP%]{border-top:.0625rem solid var(--x-border)}[_nghost-%COMP%]   div.dashed[_ngcontent-%COMP%]{border-top:.0625rem dashed var(--x-border)}"]}),e})()}];let K=(()=>{class e{}return e.\u0275mod=l.Gb({type:e}),e.\u0275inj=l.Fb({factory:function(t){return new(t||e)},imports:[[a.i.forChild(W)],a.i]}),e})();var Q=s("hHlV"),U=s("gjGi");let A=(()=>{class e{}return e.\u0275mod=l.Gb({type:e}),e.\u0275inj=l.Fb({factory:function(t){return new(t||e)},imports:[[n.c,U.a,Q.a]]}),e})(),Z=(()=>{class e{}return e.\u0275mod=l.Gb({type:e}),e.\u0275inj=l.Fb({factory:function(t){return new(t||e)},imports:[[n.c,Q.a,U.a,I.b,S.b,$.b,z.b,Y.b,q.b,A,K]]}),e})()},BzWU:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("LvDl");let a=(()=>{class e{static JsNewGuid(){for(var e="",t=1;t<=32;t++)e+=Math.floor(16*Math.random()).toString(16),8!=t&&12!=t&&16!=t&&20!=t||(e+="-");return e}static setafterdelete(e,t){var s=t.findIndex(t=>t.id==e);return t.splice(s,1),s}static cloneobject(e){var t={};for(var s in e)t[s]=e[s];return t}static deepClone(t){var s={};if(t&&"object"==typeof t)for(var a in t)null!=t[a]&&t.hasOwnProperty(a)&&(s[a]=Object(n.isArray)(t[a])?e.deepcloneobjectarray(t[a]):t[a]&&"object"==typeof t[a]?e.deepClone(t[a]):t[a]);return s}static deepcloneobjectarray(t){for(var s=[],n=0;n<t.length;n++)s.push(e.deepClone(t[n]));return s}static cloneobjectarray(t){for(var s=[],n=0;n<t.length;n++)s.push(e.cloneobject(t[n]));return s}static GetRandomStr(e,t,s){var n="",a=t,i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(a=Math.round(Math.random()*(s-t))+t);for(var r=0;r<a;r++)n+=i[Math.round(Math.random()*(i.length-1))];return n}static RndNum(e){for(var t="",s=0;s<e;s++)t+=Math.floor(10*Math.random());return t}}return e.num=e.RndNum(5),e})()}}]);