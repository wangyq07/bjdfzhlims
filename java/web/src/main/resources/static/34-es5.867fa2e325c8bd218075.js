!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"1K/t":function(t,i,r){"use strict";r.r(i),r.d(i,"SamplesupplementModule",(function(){return ue}));var s=r("ofXK"),l=r("tyNb"),d=r("wd/R"),u=r("rdXg"),b=r("wTjX"),p=r("x2e1"),m=r("BzWU"),f=r("fXoL");function h(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.projectrowspan),f.yb(1),f.yc(n.projectname)}}function g(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.samplename)}}function y(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.brand)}}function v(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.samplespec)}}function x(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.samplequality)}}function O(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.manudate)}}function w(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.executegrade)}}function N(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.executestandard)}}function M(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.wrapherproperties)}}function C(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.judge)}}function k(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.deleverdate)}}function P(e,t){if(1&e&&(f.Ob(0,"td"),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.samplerowspan),f.yb(1),f.yc(n.specialcondition)}}function _(e,t){if(1&e&&(f.Ob(0,"td",8),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.testprojecrowspan),f.yb(1),f.yc(n.testproject)}}function j(e,t){if(1&e&&(f.Ob(0,"td",8),f.xc(1),f.Nb()),2&e){var n=f.Yb().$implicit;f.zb("rowspan",n.testprojecrowspan),f.yb(1),f.yc(n.standardname)}}function I(e,t){if(1&e&&(f.Ob(0,"tr"),f.vc(1,h,2,2,"td",6),f.vc(2,g,2,2,"td",6),f.vc(3,y,2,2,"td",6),f.vc(4,v,2,2,"td",6),f.vc(5,x,2,2,"td",6),f.vc(6,O,2,2,"td",6),f.vc(7,w,2,2,"td",6),f.vc(8,N,2,2,"td",6),f.vc(9,M,2,2,"td",6),f.vc(10,C,2,2,"td",6),f.vc(11,k,2,2,"td",6),f.vc(12,P,2,2,"td",6),f.vc(13,_,2,2,"td",7),f.vc(14,j,2,2,"td",7),f.Nb()),2&e){var n=t.$implicit,a=t.index;f.yb(1),f.ec("ngIf",n.projectindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.sampleindex==a),f.yb(1),f.ec("ngIf",n.testprojectindex==a),f.yb(1),f.ec("ngIf",n.testprojectindex==a)}}var z,Y,V=((z=function(){function e(){o(this,e),this.data=[]}return c(e,[{key:"ngOnInit",value:function(){}},{key:"setdata",value:function(e,t){this.data=m.a.getMareData(e,t)}}]),e}()).\u0275fac=function(e){return new(e||z)},z.\u0275cmp=f.Cb({type:z,selectors:[["app-outputadditionallist"]],decls:34,vars:1,consts:[["border","1","cellspacing","0",2,"width","100%","height","100%"],["align","center",2,"width","8%"],["align","center",2,"width","5%"],["align","center",2,"width","4%"],["align","center",2,"width","30%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["style","border-bottom: 0ch;",4,"ngIf"],[2,"border-bottom","0ch"]],template:function(e,t){1&e&&(f.Ob(0,"table",0),f.Ob(1,"caption"),f.xc(2,"\u5317\u4eac\u4e1c\u65b9\u7eb5\u6a2a\u4ea7\u54c1\u68c0\u6d4b\u6709\u9650\u516c\u53f8 \u59d4\u6258\u68c0\u6d4b\u534f\u8bae\u4e66\u9644\u9875\uff08\u4e00\uff09 "),f.Nb(),f.Ob(3,"thead"),f.Ob(4,"td",1),f.xc(5,"\u9879\u76ee\u53f7"),f.Nb(),f.Ob(6,"td",1),f.xc(7,"\u6837\u54c1\u540d\u79f0"),f.Nb(),f.Ob(8,"td",2),f.xc(9,"\u5546\u6807"),f.Nb(),f.Ob(10,"td",2),f.xc(11,"\u89c4\u683c"),f.Nb(),f.Ob(12,"td",3),f.xc(13,"\u6570\u91cf"),f.Nb(),f.Ob(14,"td",2),f.xc(15,"\u751f\u4ea7\u65e5\u671f"),f.Nb(),f.Ob(16,"td",2),f.xc(17,"\u7b49\u7ea7"),f.Nb(),f.Ob(18,"td",2),f.xc(19,"\u6267\u884c\u6807\u51c6"),f.Nb(),f.Ob(20,"td",2),f.xc(21,"\u5305\u88c5\u53ca\u6027\u72b6"),f.Nb(),f.Ob(22,"td",2),f.xc(23,"\u5224\u5b9a"),f.Nb(),f.Ob(24,"td",2),f.xc(25,"\u4ea4\u4ed8\u65f6\u95f4"),f.Nb(),f.Ob(26,"td",2),f.xc(27,"\u7279\u6b8a\u8981\u6c42"),f.Nb(),f.Ob(28,"td",2),f.xc(29,"\u68c0\u6d4b\u9879\u76ee"),f.Nb(),f.Ob(30,"td",4),f.xc(31,"\u68c0\u6d4b\u4f9d\u636e"),f.Nb(),f.Nb(),f.Ob(32,"tbody"),f.vc(33,I,15,14,"tr",5),f.Nb(),f.Nb()),2&e&&(f.yb(33),f.ec("ngForOf",t.data))},directives:[s.s,s.t],styles:["@media print{@page{[_nghost-%COMP%]{size:landscape}}}[_nghost-%COMP%]   div.PageBreak[_ngcontent-%COMP%]{page-break-after:always}[_nghost-%COMP%]   div.page[_ngcontent-%COMP%]{writing-mode:tb-rl;height:80%;margin:10% 0}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{font-size:18px;border-collapse:collapse;text-align:center;margin:0 auto}[_nghost-%COMP%]   .al[_ngcontent-%COMP%]{width:210mm;height:297mm}[_nghost-%COMP%]   div.page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-right:80pt;filter:progid:DXImageTransform.Microsoft.BasicImage(Rotat ion=1)}"]}),z),S=r("TPaT"),$=r("LZRM"),J=r("GTjD"),q=r("Puy/"),T=r("K7LP"),D=r("SfH5"),R=r("oJeN"),A=r("P0lq"),G=r("3Pt+"),H=r("6HQn"),F=((Y=function(){function e(t){o(this,e),this.commonservice=t,this.testtypeid=999,this.statusid=999,this.storeid=999,this.processid=999,this.oldtesttypeid=0,this.oldstatusid=0,this.oldstoreid=0,this.oldprocessid=0,this.status=[],this.testtype=[],this.curentsample={},this.process=[],this.store=[]}return c(e,[{key:"ngDoCheck",value:function(){this.setobjetproperti(this.curentsample,"testtype",this.oldtesttypeid,this.testtypeid,this.testtype),this.setobjetproperti(this.curentsample,"status",this.oldstatusid,this.statusid,this.status),this.setobjetproperti(this.curentsample,"process",this.oldprocessid,this.processid,this.process),this.setobjetproperti(this.curentsample,"store",this.oldstoreid,this.storeid,this.store)}},{key:"ngOnInit",value:function(){var e=this;this.commonservice.gettesttype().subscribe((function(t){return e.testtype=t.list})),this.commonservice.getsamplestatus().subscribe((function(t){return e.status=t.list})),this.commonservice.getsamplestore().subscribe((function(t){return e.store=t.list})),this.commonservice.getsampleprocess().subscribe((function(t){return e.process=t.list}))}},{key:"setobjetproperti",value:function(e,t,n,a,i){n!=a&&(e[t]=i.find((function(e){return e.id==a})),n=a)}},{key:"setSample",value:function(e){var t,n,a;this.curentsample=m.a.deepClone(e),this.curentsample.deleverdate=e.deleverdate,this.curentsample.manudate=e.manudate,null!=this.curentsample.testtype&&0!=this.curentsample.testtype.id?this.testtypeid=Number(this.curentsample.testtype.id):this.curentsample.testtype={id:999,label:"\u5176\u5b83"},null!=this.curentsample.status&&0!=this.curentsample.status.id?this.statusid=Number(null===(t=this.curentsample.status)||void 0===t?void 0:t.id):this.curentsample.status={id:999,label:"\u5176\u5b83"},null!=this.curentsample.store&&0!=this.curentsample.store.id?this.storeid=Number(null===(n=this.curentsample.store)||void 0===n?void 0:n.id):this.curentsample.store={id:999,label:"\u5176\u5b83"},null!=this.curentsample.process&&0!=this.curentsample.process.id?this.processid=Number(null===(a=this.curentsample.process)||void 0===a?void 0:a.id):this.curentsample.process={id:999,label:"\u5176\u5b83"}}},{key:"samplestatusdisabled",get:function(){return 999!=this.statusid}},{key:"sampletesttypedisabled",get:function(){return 999!=this.testtypeid}},{key:"sampleprocessdisabled",get:function(){return 999!=this.processid}},{key:"samplestoredisabled",get:function(){return 999!=this.storeid}}]),e}()).\u0275fac=function(e){return new(e||Y)(f.Ib(p.c))},Y.\u0275cmp=f.Cb({type:Y,selectors:[["app-updatesample"]],decls:32,vars:13,consts:[[2,"height","20px"],["span","12"],["label","\u6837\u54c1\u72b6\u6001","direction","row",3,"data","ngModel","ngModelChange"],["span","4"],["label","\u5176\u5b83","direction","row",3,"disabled","ngModel","ngModelChange"],[2,"height","30px"],["span","8"],["label","\u751f\u4ea7\u65e5\u671f\u6216\u6279\u53f7","direction","row",3,"ngModel","ngModelChange"],["label","\u62a5\u544a\u4ea4\u4ed8\u65f6\u95f4","direction","row",3,"ngModel","ngModelChange"],["label","\u7279\u6b8a\u8981\u6c42","direction","row",3,"ngModel","ngModelChange"],["label","\u89c4\u683c","direction","row",3,"ngModel","ngModelChange"],["label","\u6837\u54c1\u6570\u91cf","direction","row",3,"ngModel","ngModelChange"],["label","\u4ea7\u54c1\u6267\u884c\u6807\u51c6","direction","row",3,"ngModel","ngModelChange"],["label","\u5546\u6807","direction","row",3,"ngModel","ngModelChange"],["label","\u6837\u54c1\u7b49\u7ea7","direction","row",3,"ngModel","ngModelChange"],["label","\u6837\u54c1\u5305\u88c5","direction","row",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(f.Jb(0,"x-row",0),f.Ob(1,"x-row"),f.Ob(2,"x-col",1),f.Ob(3,"x-select",2),f.Vb("ngModelChange",(function(e){return t.statusid=e})),f.Nb(),f.Nb(),f.Ob(4,"x-col",3),f.Ob(5,"x-input",4),f.Vb("ngModelChange",(function(e){return t.curentsample.statusother=e})),f.Nb(),f.Nb(),f.Nb(),f.Jb(6,"x-row",5),f.Ob(7,"x-row"),f.Ob(8,"x-col",6),f.Ob(9,"x-date-picker",7),f.Vb("ngModelChange",(function(e){return t.curentsample.manudate=e})),f.Nb(),f.Nb(),f.Ob(10,"x-col",6),f.Ob(11,"x-date-picker",8),f.Vb("ngModelChange",(function(e){return t.curentsample.deleverdate=e})),f.Nb(),f.Nb(),f.Nb(),f.Jb(12,"x-row",5),f.Ob(13,"x-row"),f.Ob(14,"x-col",1),f.Ob(15,"x-input",9),f.Vb("ngModelChange",(function(e){return t.curentsample.specialcondition=e})),f.Nb(),f.Nb(),f.Nb(),f.Jb(16,"x-row",5),f.Ob(17,"x-row"),f.Ob(18,"x-col",6),f.Ob(19,"x-input",10),f.Vb("ngModelChange",(function(e){return t.curentsample.samplespec=e})),f.Nb(),f.Nb(),f.Ob(20,"x-col",6),f.Ob(21,"x-input",11),f.Vb("ngModelChange",(function(e){return t.curentsample.samplequality=e})),f.Nb(),f.Nb(),f.Ob(22,"x-col",6),f.Ob(23,"x-input",12),f.Vb("ngModelChange",(function(e){return t.curentsample.executestandard=e})),f.Nb(),f.Nb(),f.Nb(),f.Jb(24,"x-row",5),f.Ob(25,"x-row"),f.Ob(26,"x-col",6),f.Ob(27,"x-input",13),f.Vb("ngModelChange",(function(e){return t.curentsample.brand=e})),f.Nb(),f.Nb(),f.Ob(28,"x-col",6),f.Ob(29,"x-input",14),f.Vb("ngModelChange",(function(e){return t.curentsample.executegrade=e})),f.Nb(),f.Nb(),f.Ob(30,"x-col",6),f.Ob(31,"x-input",15),f.Vb("ngModelChange",(function(e){return t.curentsample.wrapherproperties=e})),f.Nb(),f.Nb(),f.Nb()),2&e&&(f.yb(3),f.ec("data",t.status)("ngModel",t.statusid),f.yb(2),f.ec("disabled",t.samplestatusdisabled)("ngModel",t.curentsample.statusother),f.yb(4),f.ec("ngModel",t.curentsample.manudate),f.yb(2),f.ec("ngModel",t.curentsample.deleverdate),f.yb(4),f.ec("ngModel",t.curentsample.specialcondition),f.yb(4),f.ec("ngModel",t.curentsample.samplespec),f.yb(2),f.ec("ngModel",t.curentsample.samplequality),f.yb(2),f.ec("ngModel",t.curentsample.executestandard),f.yb(4),f.ec("ngModel",t.curentsample.brand),f.yb(2),f.ec("ngModel",t.curentsample.executegrade),f.yb(2),f.ec("ngModel",t.curentsample.wrapherproperties))},directives:[D.c,D.a,R.a,G.q,G.t,A.a,H.a],styles:[""]}),Y),X=r("qMpK"),B=r("l5Yv"),E=r("GvSL"),K=r("/pOC"),L=r("yO6f"),W=r("kXfN"),Q=["modifisample"],U=["printtable"];function Z(e,t){if(1&e){var n=f.Pb();f.Ob(0,"div",26),f.Ob(1,"x-link",27),f.Vb("click",(function(){f.mc(n);var e=t.$row;return f.Yb().projectclick(e)})),f.Nb(),f.Nb()}}function ee(e,t){if(1&e){var n=f.Pb();f.Ob(0,"div",26),f.Ob(1,"x-button",28),f.Vb("click",(function(){return f.mc(n),f.Yb().copydata()})),f.Nb(),f.Nb()}}var te,ne,ae,ie,re=function(e){return{actions:e}},oe=[{path:"",component:(te=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(r,t);var i=a(r);function r(e,t,n,a,s,c,l,d){var u;return o(this,r),(u=i.call(this,e)).indexService=e,u.flowservice=t,u.sampleservice=n,u.contactservice=a,u.actroute=s,u.router=c,u.globalaudit=l,u.msg=d,u.modifyvisible=!1,u.taskid="",u.delegatecustomer="",u.testcustomer="",u.paycustomer="",u.servicetype="",u.ispanding="",u.seal="",u.samplesource="",u.projects=[],u.currentcontact={},u.contactid="",u.sampledata=[],u.columns=[{id:"actions",label:"\u64cd\u4f5c",width:100},{id:"samplename",label:"\u540d\u79f0",width:150,sort:!0},{id:"deleverdatelabel",label:"\u4ea4\u4ed8\u65f6\u95f4",width:150,sort:!0},{id:"manudatelabel",label:"\u751f\u4ea7\u65e5\u671f\u53ca\u6279\u53f7",width:150,sort:!0},{id:"processlabel",label:"\u5904\u7406\u65b9\u5f0f",width:150,sort:!0},{id:"statuslabel",label:"\u6837\u54c1\u72b6\u6001",width:150,sort:!0},{id:"samplespec",label:"\u89c4\u683c",width:150,sort:!0},{id:"brand",label:"\u5546\u6807",width:150,sort:!0},{id:"executestandard",label:"\u4ea7\u54c1\u6267\u884c\u6807\u51c6",width:150,sort:!0},{id:"wrapherproperties",label:"\u6837\u54c1\u5305\u88c5\u53ca\u6027\u72b6",width:150,sort:!0},{id:"samplequality",label:"\u6837\u54c1\u6570\u91cf",width:150,sort:!0},{id:"executegrade",label:"\u6837\u54c1\u7b49\u7ea7",width:150,sort:!0},{id:"specialcondition",label:"\u7279\u6b8a\u60c5\u51b5",width:150,sort:!0}],u.index=0,u.size=200,u.total=0,u.query={},null!=s&&s.params.subscribe((function(e){u.contactid=e.contactid,u.taskid=e.taskid,u.getData()})),u}return c(r,[{key:"gettypelable",value:function(e,t,n){return null!=t&&null!=t[e]&&null!=t[e].id?999==t[e].id?t[n]:t[e].label:""}},{key:"projectclick",value:function(e){this.modifyvisible=!0,this.modifisample.setSample(e)}},{key:"modifyconfirm",value:function(){var t=this;this.projects.map((function(e){var n;null===(n=e.samples)||void 0===n||n.map((function(e){if(e.id==t.modifisample.curentsample.id){for(var n in e)"id"!=n&&(e[n]=t.modifisample.curentsample[n]);t.setsamplelabel(e)}}))})),this.sampledata=e(this.sampledata)}},{key:"getData",value:function(){var e=this;this.contactservice.getcontactproject(this.contactid+"").subscribe((function(t){var n,a;if(e.currentcontact=t.contact,e.projects=t.projects,null!=e.currentcontact&&null!=e.currentcontact.contactcustomers){e.delegatecustomer="",e.testcustomer="",e.paycustomer="";var i=e.currentcontact.contactcustomers.filter((function(e){return 1==e.customertype}));if(i.length>0)for(var r=0;r<i.length;r++)0!=r&&(e.delegatecustomer=e.delegatecustomer+","),e.delegatecustomer=e.delegatecustomer+i[r].customername;var o=e.currentcontact.contactcustomers.find((function(e){return 2==e.customertype}));if(e.paycustomer=(null==o?void 0:o.customername)+"",o=e.currentcontact.contactcustomers.find((function(e){return 3==e.customertype})),e.testcustomer=(null==o?void 0:o.customername)+"",e.servicetype="",e.servicetype=(null===(n=e.currentcontact.service)||void 0===n?void 0:n.label)+"",e.ispanding=1==e.currentcontact.isjudgement?"\u662f":"\u5426",e.seal="",null!=e.currentcontact.seal)for(r=0;r<e.currentcontact.seal.length;r++)e.seal=e.seal+e.currentcontact.seal[r].label+",";e.samplesource=(null===(a=e.currentcontact.samplesource)||void 0===a?void 0:a.label)+""}e.printtable.setdata(e.projects,e.ispanding);var s={id:m.a.JsNewGuid(),type:0,label:"\u6240\u6709\u9879\u76ee",reportcount:0,domainlabel:"",pid:null,samples:[]};e.projects.map((function(e){e.label=e.projectnumber,e.pid=s.id,e.domainlabel=e.domain.label,s.reportcount=s.reportcount+e.reportcount,s.domainlabel=s.domainlabel+""+e.domain.label+",",e.samples.map((function(e){s.samples.push(e)})),e.type=1})),e.projects.push(s)}))}},{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var e,t=this;this.flowservice.excutetask(this.taskid,{iscollection:1==(null===(e=this.currentcontact.samplesource)||void 0===e?void 0:e.id)?0:1,userid:this.indexService.auth.user.id+"",username:this.indexService.auth.user.name,contactid:this.currentcontact.id}).subscribe((function(e){t.msg.success("\u63d0\u4ea4\u6210\u529f\uff01")}))}},{key:"setsamplelabel",value:function(e){var t,n,a,i;e.storelabel=null===(t=e.store)||void 0===t?void 0:t.label,e.testtypelabel=null===(n=e.testtype)||void 0===n?void 0:n.label,e.statuslabel=null===(a=e.status)||void 0===a?void 0:a.label,e.processlabel=null===(i=e.process)||void 0===i?void 0:i.label,null!=e.deleverdate&&null!=e.deleverdate&&(e.deleverdatelabel=d(e.deleverdate).format("YYYY.MM.DD")),null!=e.deleverdate&&null!=e.deleverdate&&(e.manudatelabel=d(e.manudate).format("YYYY.MM.DD"))}},{key:"save",value:function(){var e=this,t=[],n=[];this.projects.map((function(e){var a;0!=e.type&&n.push(e),null===(a=e.samples)||void 0===a||a.map((function(e){return t.push(e)}))})),t.length>0&&this.sampleservice.supplimentupdatesamples(t).subscribe((function(t){e.printtable.setdata(n,e.ispanding),e.msg.success("\u4fdd\u5b58\u6210\u529f\uff01")}))}},{key:"copydata",value:function(){var t=this;null!=this.modifisample.curentsample&&null!=this.modifisample.curentsample&&(this.sampledata.map((function(e){e.samplequality=t.modifisample.curentsample.samplequality,e.executegrade=t.modifisample.curentsample.executegrade,e.specialcondition=t.modifisample.curentsample.specialcondition,e.wrapherproperties=t.modifisample.curentsample.wrapherproperties,e.manudate=t.modifisample.curentsample.manudate,e.deleverdate=t.modifisample.curentsample.deleverdate,e.samplespec=t.modifisample.curentsample.samplespec,e.brand=t.modifisample.curentsample.brand,e.executestandard=t.modifisample.curentsample.executestandard,e.status=t.modifisample.curentsample.status,e.process=t.modifisample.curentsample.process,t.setsamplelabel(e)})),this.sampledata=e(this.sampledata))}},{key:"action",value:function(e){var t,n=this;this.sampledata=[],null===(t=e.samples)||void 0===t||t.map((function(e){n.setsamplelabel(e),n.sampledata.push(e)}))}},{key:"genu",value:function(){u({printable:"printtable",type:"html",maxWidth:"98%",targetStyles:["*"],style:"@media print{@page {size:landscape}}"})}},{key:"activechange",value:function(e){}},{key:"IndexChange",value:function(e){}}]),r}(T.a),te.\u0275fac=function(e){return new(e||te)(f.Ib(b.a),f.Ib(S.a),f.Ib(J.a),f.Ib($.a),f.Ib(l.a),f.Ib(l.e),f.Ib(q.a),f.Ib(X.c))},te.\u0275cmp=f.Cb({type:te,selectors:[["app-samplesupplement"]],viewQuery:function(e,t){var n;1&e&&(f.Cc(Q,!0),f.Cc(U,!0)),2&e&&(f.jc(n=f.Wb())&&(t.modifisample=n.first),f.jc(n=f.Wb())&&(t.printtable=n.first))},features:[f.vb],decls:52,vars:25,consts:[["width","40%","height","40%","placement","top",3,"visible","backdropClose","hasBackdrop","visibleChange","confirm"],["dialogmodifyquali",""],[2,"width","100%","height","100%"],["modifisample",""],[2,"overflow","auto"],[2,"height","15px"],["span","2"],["icon","ado-check","type","primary","plain","",3,"click"],["icon","ado-save","type","primary","plain","",3,"click"],[2,"height","20px"],["span","12"],["span","6"],["span","4"],[2,"height","30px"],["span","5"],[2,"overflow","scroll","height","680px"],["au-adaption","",3,"data","nodeHeight","activatedChange"],["treeCom",""],["span","19"],["virtualScroll","","loading","",3,"data","columns","index","size","total","query","adaptionHeight","bodyColumnTpl","headColumnTpl","indexChange","sizeChange","activatedRowChange"],["projectlist",""],[2,"display","none"],["id","printtable",2,"height","100%","width","100%"],["printtable",""],["contactTpl",""],["headerTpl",""],[1,"au-table-actions"],["icon","fto-edit","title","\u4fee\u6539",3,"click"],["icon","far-copy","label","\u590d\u5236",2,"width","80",3,"click"]],template:function(e,t){if(1&e&&(f.Ob(0,"x-dialog",0,1),f.Vb("visibleChange",(function(e){return t.modifyvisible=e}))("confirm",(function(){return t.modifyconfirm()})),f.Jb(2,"app-updatesample",2,3),f.Nb(),f.Ob(4,"div",4),f.Jb(5,"x-row",5),f.Ob(6,"x-row"),f.Ob(7,"x-col",6),f.Ob(8,"x-button",7),f.Vb("click",(function(){return t.submit()})),f.xc(9,"\u63d0\u4ea4"),f.Nb(),f.Nb(),f.Ob(10,"x-col",6),f.Ob(11,"x-button",8),f.Vb("click",(function(){return t.save()})),f.xc(12,"\u4fdd\u5b58"),f.Nb(),f.Nb(),f.Ob(13,"x-col",6),f.Ob(14,"x-button",8),f.Vb("click",(function(){return t.genu()})),f.xc(15,"\u751f\u6210\u9644\u9875"),f.Nb(),f.Nb(),f.Nb(),f.Jb(16,"x-row",9),f.Ob(17,"x-row"),f.Ob(18,"x-col",10),f.xc(19),f.Nb(),f.Ob(20,"x-col",11),f.xc(21),f.Nb(),f.Ob(22,"x-col",11),f.xc(23),f.Nb(),f.Nb(),f.Jb(24,"x-row",9),f.Ob(25,"x-row"),f.Ob(26,"x-col",12),f.xc(27),f.Nb(),f.Ob(28,"x-col",12),f.xc(29),f.Nb(),f.Ob(30,"x-col",12),f.xc(31),f.Nb(),f.Ob(32,"x-col",12),f.xc(33),f.Nb(),f.Nb(),f.Jb(34,"x-row",13),f.Ob(35,"x-row"),f.Ob(36,"x-col",14),f.Ob(37,"div",15),f.Ob(38,"h4"),f.xc(39,"\u9879\u76ee"),f.Nb(),f.Ob(40,"x-tree",16,17),f.Vb("activatedChange",(function(e){return t.action(e)})),f.Nb(),f.Nb(),f.Nb(),f.Ob(42,"x-col",18),f.Ob(43,"x-table",19,20),f.Vb("indexChange",(function(e){return t.index=e}))("sizeChange",(function(e){return t.size=e}))("activatedRowChange",(function(e){return t.activechange(e)}))("indexChange",(function(e){return t.IndexChange(e)})),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(45,"div",21),f.Jb(46,"app-outputadditionallist",22,23),f.Nb(),f.vc(48,Z,2,0,"ng-template",null,24,f.wc),f.vc(50,ee,2,0,"ng-template",null,25,f.wc)),2&e){var n=f.kc(49),a=f.kc(51);f.ec("visible",t.modifyvisible)("backdropClose",!1)("hasBackdrop",!1),f.yb(19),f.zc("\u59d4\u6258\u5ba2\u6237:",t.delegatecustomer,""),f.yb(2),f.zc("\u4ed8\u6b3e\u5ba2\u6237:",t.paycustomer,""),f.yb(2),f.zc("\u53d7\u68c0\u5ba2\u6237:",t.testcustomer,""),f.yb(4),f.zc("\u6837\u54c1\u6765\u6e90:",t.samplesource,""),f.yb(2),f.zc("\u662f\u5426\u5224\u5b9a:",t.ispanding,""),f.yb(2),f.zc("\u8d44\u8d28\u76d6\u7ae0:",t.seal,""),f.yb(2),f.zc("\u670d\u52a1\u7c7b\u578b:",t.servicetype,""),f.yb(7),f.ec("data",t.projects)("nodeHeight",1.875),f.yb(3),f.ec("data",t.sampledata)("columns",t.columns)("index",t.index)("size",t.size)("total",t.total)("query",t.query)("adaptionHeight",240)("bodyColumnTpl",f.gc(21,re,n))("headColumnTpl",f.gc(23,re,a))}},directives:[B.a,F,D.c,D.a,E.a,K.a,L.a,V,W.a],styles:["[_nghost-%COMP%]   table[_ngcontent-%COMP%]{width:100%;background:var(--x-background);border-collapse:collapse;border:.0625rem solid var(--x-border-200)}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{border-bottom:.0625rem solid var(--x-border-200);text-align:left;padding:.5rem 1rem}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child > th[_ngcontent-%COMP%]{border-width:1px}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;color:var(--x-text-300)}[_nghost-%COMP%]   div.solid[_ngcontent-%COMP%]{border-top:.0625rem solid var(--x-border)}[_nghost-%COMP%]   div.dashed[_ngcontent-%COMP%]{border-top:.0625rem dashed var(--x-border)}"]}),te)}],se=((ne=function e(){o(this,e)}).\u0275mod=f.Gb({type:ne}),ne.\u0275inj=f.Fb({factory:function(e){return new(e||ne)},imports:[[l.i.forChild(oe)],l.i]}),ne),ce=r("hHlV"),le=r("gjGi"),de=((ie=function e(){o(this,e)}).\u0275mod=f.Gb({type:ie}),ie.\u0275inj=f.Fb({factory:function(e){return new(e||ie)},imports:[[s.c,le.a,ce.a]]}),ie),ue=((ae=function e(){o(this,e)}).\u0275mod=f.Gb({type:ae}),ae.\u0275inj=f.Fb({factory:function(e){return new(e||ae)},imports:[[s.c,ce.a,le.a,D.b,E.b,B.b,A.b,R.b,H.b,de,se]]}),ae)}}])}();