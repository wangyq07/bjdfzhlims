!function(){function t(e,n){return(t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(e,n)}function e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=i(t);if(e){var u=i(this).constructor;r=Reflect.construct(o,arguments,u)}else r=o.apply(this,arguments);return n(this,r)}}function n(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"873N":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("ofXK"),r=n("fXoL"),o=function(){var t=function t(){u(this,t)};return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t}()},K7LP:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(e){var n=this;u(this,t),this.indexService=e,this.auth={};var i=this.indexService.menuChange.subscribe((function(t){n.baseInit(),i.unsubscribe()}))}return o(t,[{key:"baseInit",value:function(){var t,e,n,i,r,o=this;this.menu=null===(e=null===(t=this.indexService.auth.user.permissions)||void 0===t?void 0:t.menus)||void 0===e?void 0:e.find((function(t){return t.router==o.indexService.session.activatedPage})),this.actions=null===(i=null===(n=this.indexService.auth.user.permissions)||void 0===n?void 0:n.actions)||void 0===i?void 0:i.filter((function(t){var e;return t.menuId==(null===(e=o.menu)||void 0===e?void 0:e.id)})),null===(r=this.actions)||void 0===r||r.forEach((function(t){return o.auth[t.code]=!0}))}},{key:"unAuth",value:function(t){return!this.auth[t]}}]),t}()},MOn6:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("XNiG"),r=n("3pM9"),a=n("1G5W"),c=n("ofXK"),s=n("fXoL"),f=function(){var t=function(){function t(e,n,r){u(this,t),this.elementRef=e,this.renderer=n,this.doc=r,this.outerHeight=0,this._unSubject=new i.a}return o(t,[{key:"ngAfterViewInit",value:function(){this.setSubject()}},{key:"ngOnDestroy",value:function(){var t;this._unSubject.next(),this._unSubject.unsubscribe(),null===(t=this._resizeObserver)||void 0===t||t.disconnect()}},{key:"setSubject",value:function(){var t=this;Object(r.A)(this.container,this.doc.documentElement).pipe(Object(a.a)(this._unSubject)).subscribe((function(e){t._resizeObserver=e.resizeObserver,t.setAdaptionHeight()}))}},{key:"setAdaptionHeight",value:function(){this.renderer.setStyle(this.elementRef.nativeElement,"height",this.doc.documentElement.clientHeight-this.outerHeight+"px")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Ib(s.l),s.Ib(s.D),s.Ib(c.e))},t.\u0275dir=s.Db({type:t,selectors:[["","au-adaption",""]],inputs:{outerHeight:"outerHeight",container:"container"}}),t}()},iaau:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),r=function(){var t=function t(){u(this,t)};return t.\u0275mod=i.Gb({type:t}),t.\u0275inj=i.Fb({factory:function(e){return new(e||t)}}),t}()},nzwm:function(n,i,r){"use strict";r.r(i),r.d(i,"CompletetaskModule",(function(){return H}));var a,c,s,f=r("ofXK"),l=r("wTjX"),h=r("TPaT"),d=r("K7LP"),b=r("fXoL"),v=r("tyNb"),p=r("SfH5"),y=r("MOn6"),g=r("yO6f"),m=["tableCom"],w=((a=function(n){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}(r,n);var i=e(r);function r(t,e,n,o){var a;return u(this,r),(a=i.call(this,t)).indexService=t,a.flowservice=e,a.router=n,a.activatedRoute=o,a.index=1,a.size=1e4,a.total=0,a.query={},a.columns=[{id:"index",label:"\u5e8f\u53f7",width:80,type:"index"},{id:"name",label:"\u4efb\u52a1",width:100,sort:!0},{id:"customername",label:"\u5ba2\u6237",width:150,sort:!0},{id:"endTime",label:"\u5b8c\u6210\u65f6\u95f4",width:200,sort:!0},{id:"createtime",label:"\u521b\u5efa\u65e5\u671f",width:200,sort:!0}],a}return o(r,[{key:"ngAfterViewInit",value:function(){console.log(this.indexService.auth.user),null!=this.indexService.auth.user.roles&&this.getData()}},{key:"ngOnInit",value:function(){}},{key:"action",value:function(t,e){this.router.navigate([""+e.router,{projectid:e.contactid,taskid:e.taskid}])}},{key:"browsediagram",value:function(t){this.query={filter:[{field:"instanceid",value:t.instanceid+"",operation:"="}]},this.flowservice.getDiagram(this.query).subscribe((function(t){var e=document.getElementById("svg_my");e&&(e.innerHTML=t.output)}))}},{key:"activatedRow",value:function(t){this.browsediagram(t)}},{key:"getData",value:function(){var t=this;null!=this.indexService.auth.user.roles&&this.flowservice.getTaskListByUserId(this.indexService.auth.user.id+"").subscribe((function(e){var n;null!=e.list&&(n=[e.list,e.list.length],t.data=n[0],t.total=n[1])}))}},{key:"indexChange",value:function(t){this.index=t,this.getData()}},{key:"sortChange",value:function(t){this.query.sort=t,this.getData()}}]),r}(d.a)).\u0275fac=function(t){return new(t||a)(b.Ib(l.a),b.Ib(h.a),b.Ib(v.e),b.Ib(v.a))},a.\u0275cmp=b.Cb({type:a,selectors:[["app-completetask"]],viewQuery:function(t,e){var n;1&t&&b.Bc(m,!0),2&t&&b.ic(n=b.Wb())&&(e.tableCom=n.first)},features:[b.vb],decls:6,vars:9,consts:[["span","8"],["au-adaption","",1,"au-panel","au-content",3,"outerHeight"],["loading","",3,"columns","data","index","size","total","virtualScroll","bodyHeight","indexChange","sizeChange","sortChange","activatedRowChange"],["span","16"],["id","svg_my","au-adaption","",1,"au-panel","au-content",3,"outerHeight"]],template:function(t,e){1&t&&(b.Ob(0,"x-row"),b.Ob(1,"x-col",0),b.Ob(2,"div",1),b.Ob(3,"x-table",2),b.Vb("indexChange",(function(t){return e.index=t}))("sizeChange",(function(t){return e.size=t}))("indexChange",(function(t){return e.indexChange(t)}))("sortChange",(function(t){return e.sortChange(t)}))("activatedRowChange",(function(t){return e.activatedRow(t)})),b.Nb(),b.Nb(),b.Nb(),b.Ob(4,"x-col",3),b.Jb(5,"div",4),b.Nb(),b.Nb()),2&t&&(b.yb(2),b.ec("outerHeight",50),b.yb(1),b.ec("columns",e.columns)("data",e.data)("index",e.index)("size",e.size)("total",e.total)("virtualScroll",!0)("bodyHeight",750),b.yb(2),b.ec("outerHeight",50))},directives:[p.c,p.a,y.a,g.a],styles:[""]}),a),x=r("hHlV"),O=r("iaau"),j=r("873N"),k=r("gjGi"),S=[{path:"",component:w}],C=[f.c,x.a,k.a,j.a,O.a,(c=function t(){u(this,t)},c.\u0275mod=b.Gb({type:c}),c.\u0275inj=b.Fb({factory:function(t){return new(t||c)},imports:[[v.i.forChild(S)],v.i]}),c)],H=((s=function t(){u(this,t)}).\u0275mod=b.Gb({type:s}),s.\u0275inj=b.Fb({factory:function(t){return new(t||s)},imports:[[].concat(C)]}),s)}}])}();