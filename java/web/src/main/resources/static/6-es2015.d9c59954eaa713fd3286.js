(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"873N":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var o=i("ofXK"),n=i("fXoL");let a=(()=>{class t{}return t.\u0275mod=n.Gb({type:t}),t.\u0275inj=n.Fb({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()},Iuba:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var o=i("fXoL"),n=i("LvDl"),a=i("BzWU"),r=i("SfH5"),l=i("P0lq"),s=i("GvSL"),c=i("3Pt+");let d=(()=>{class t{constructor(){this.qual={},this.datachange=new o.n}ngOnInit(){}setMethod(t){this.qual=a.a.deepClone(t),this.qual.methodname="",this.qual.methodid="",this.qual.id=a.a.JsNewGuid()}savedata(){null!=this.datachange&&this.datachange.emit(this.qual)}get disabled(){return""==Object(n.trim)(this.qual.methodname)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Cb({type:t,selectors:[["app-addmethodqualification"]],outputs:{datachange:"datachange"},decls:24,vars:10,consts:[["span","24"],["label","\u8d44\u8d28","direction","row",3,"ngModel","disabled","ngModelChange"],[2,"height","10px"],["label","\u5206\u7c7b","direction","row",3,"ngModel","disabled","ngModelChange"],["label","\u9879\u76ee","direction","row",3,"ngModel","disabled","ngModelChange"],["label","\u6807\u51c6","direction","row",3,"ngModel","disabled","ngModelChange"],["label","\u65b9\u6cd5","direction","row",3,"ngModel","ngModelChange"],[2,"height","30px"],["justify","center"],["span","5"],["icon","fto-save","type","primary","plain","",3,"disabled","click"]],template:function(t,e){1&t&&(o.Ob(0,"x-row"),o.Ob(1,"x-col",0),o.Ob(2,"x-input",1),o.Vb("ngModelChange",(function(t){return e.qual.firstname=t})),o.Nb(),o.Nb(),o.Nb(),o.Jb(3,"x-row",2),o.Ob(4,"x-row"),o.Ob(5,"x-col",0),o.Ob(6,"x-input",3),o.Vb("ngModelChange",(function(t){return e.qual.secondname=t})),o.Nb(),o.Nb(),o.Nb(),o.Jb(7,"x-row",2),o.Ob(8,"x-row"),o.Ob(9,"x-col",0),o.Ob(10,"x-input",4),o.Vb("ngModelChange",(function(t){return e.qual.testproject=t})),o.Nb(),o.Nb(),o.Nb(),o.Jb(11,"x-row",2),o.Ob(12,"x-row"),o.Ob(13,"x-col",0),o.Ob(14,"x-input",5),o.Vb("ngModelChange",(function(t){return e.qual.standardname=t})),o.Nb(),o.Nb(),o.Nb(),o.Jb(15,"x-row",2),o.Ob(16,"x-row"),o.Ob(17,"x-col",0),o.Ob(18,"x-input",6),o.Vb("ngModelChange",(function(t){return e.qual.methodname=t})),o.Nb(),o.Nb(),o.Nb(),o.Jb(19,"x-row",7),o.Ob(20,"x-row",8),o.Ob(21,"x-col",9),o.Ob(22,"x-button",10),o.Vb("click",(function(){return!e.disabled&&e.savedata()})),o.xc(23,"\u4fdd\u5b58"),o.Nb(),o.Nb(),o.Nb()),2&t&&(o.yb(2),o.ec("ngModel",e.qual.firstname)("disabled",!0),o.yb(4),o.ec("ngModel",e.qual.secondname)("disabled",!0),o.yb(4),o.ec("ngModel",e.qual.testproject)("disabled",!0),o.yb(4),o.ec("ngModel",e.qual.standardname)("disabled",!0),o.yb(4),o.ec("ngModel",e.qual.methodname),o.yb(4),o.ec("disabled",e.disabled))},directives:[r.c,r.a,l.a,c.q,c.t,s.a],styles:[""]}),t})()},M3sX:function(t,e,i){"use strict";i.d(e,"e",(function(){return r})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return c})),i.d(e,"d",(function(){return d}));var o=i("bRdP"),n=i("NtM8"),a=i("fXoL");let r=(()=>{class t extends o.a{constructor(t){super(t,{controller:{name:"testprojects",servicetype:"businessprocess"}}),this.http=t}getprojectsbylevel(t){var e,i;return this.http.post((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/getprojectsbylevel",{level:t},null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}getprojectsbypid(t){var e,i;return this.http.post((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/getprojectsbypid",{pid:t},null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}getalltestProject(){var t,e;return this.http.post((null===(t=this.option.controller)||void 0===t?void 0:t.name)+"/getalltestProject",{},null===(e=this.option.controller)||void 0===e?void 0:e.servicetype)}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(n.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t extends o.a{constructor(t){super(t,{controller:{name:"qualifications",servicetype:"businessprocess"}}),this.http=t}getqualificationbysearchkey(t,e,i){var o,n;return this.http.post((null===(o=this.option.controller)||void 0===o?void 0:o.name)+"/getqualificationbysearchkey",{companyid:t,project:e,method:i},null===(n=this.option.controller)||void 0===n?void 0:n.servicetype)}addqualification(t){var e,i;return this.http.post((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/addqualification",t,null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}updatequalification(t){var e,i;return this.http.post((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/updatequalification",t,null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}deletequalification(t){var e,i;return this.http.post((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/deletequalification",{qualificationid:t},null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(n.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s=(()=>{class t extends o.a{constructor(t){super(t,{controller:{name:"qualificationsid",servicetype:"businessprocess"}}),this.http=t}getqualifications(t){var e,i;return this.http.post(""+(null===(e=this.option.controller)||void 0===e?void 0:e.name),t,null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(n.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),c=(()=>{class t extends o.a{constructor(t){super(t,{controller:{name:"qualificationcompanys",servicetype:"businessprocess"}}),this.http=t}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(n.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t extends o.a{constructor(t){super(t,{controller:{name:"domains",servicetype:"businessprocess"}}),this.http=t}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(n.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},MOn6:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var o=i("XNiG"),n=i("3pM9"),a=i("1G5W"),r=i("ofXK"),l=i("fXoL");let s=(()=>{class t{constructor(t,e,i){this.elementRef=t,this.renderer=e,this.doc=i,this.outerHeight=0,this._unSubject=new o.a}ngAfterViewInit(){this.setSubject()}ngOnDestroy(){var t;this._unSubject.next(),this._unSubject.unsubscribe(),null===(t=this._resizeObserver)||void 0===t||t.disconnect()}setSubject(){Object(n.A)(this.container,this.doc.documentElement).pipe(Object(a.a)(this._unSubject)).subscribe(t=>{this._resizeObserver=t.resizeObserver,this.setAdaptionHeight()})}setAdaptionHeight(){this.renderer.setStyle(this.elementRef.nativeElement,"height",this.doc.documentElement.clientHeight-this.outerHeight+"px")}}return t.\u0275fac=function(e){return new(e||t)(l.Ib(l.l),l.Ib(l.D),l.Ib(r.e))},t.\u0275dir=l.Db({type:t,selectors:[["","au-adaption",""]],inputs:{outerHeight:"outerHeight",container:"container"}}),t})()},Zivw:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var o=i("NtM8"),n=i("bRdP"),a=i("fXoL");let r=(()=>{class t extends n.a{constructor(t){super(t,{controller:{name:"roletestproject",servicetype:"collectionreceive"}}),this.http=t}getroletaskdispatchs(t){var e,i;return this.http.post((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/getroletaskdispatchs",{contactid:t},null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}addRoleTaskDispatch(t,e){var i,o;return this.http.post((null===(i=this.option.controller)||void 0===i?void 0:i.name)+"/addroletaskdispatch",{contactid:t,roletestproect:e},null===(o=this.option.controller)||void 0===o?void 0:o.servicetype)}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(o.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},hpyX:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var o=i("NtM8"),n=i("bRdP"),a=i("fXoL");let r=(()=>{class t extends n.a{constructor(t){super(t,{controller:{name:"qualificationmethods",servicetype:"businessprocess"}}),this.http=t}getqualificationmethods(t){var e,i;return this.http.post((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/getqualificationmethods",{id:t},null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}getqualificationmethodprojecttest(t,e){var i,o;return this.http.post((null===(i=this.option.controller)||void 0===i?void 0:i.name)+"/getqualificationmethodprojecttest",{testprojectid:t,standardid:e},null===(o=this.option.controller)||void 0===o?void 0:o.servicetype)}getqualificationmethodbysearchkey(t,e){var i,o;return this.http.post((null===(i=this.option.controller)||void 0===i?void 0:i.name)+"/getqualificationmethodbysearchkey",{project:t,method:e},null===(o=this.option.controller)||void 0===o?void 0:o.servicetype)}addqualificationmethod(t){var e,i;return this.http.post((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/addqualificationmethod",t,null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}updatequalificationmethod(t){var e,i;return this.http.post((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/updatequalificationmethod",{updatelist:t},null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}deletequalificationmethod(t){var e,i;return this.http.delete((null===(e=this.option.controller)||void 0===e?void 0:e.name)+"/deletequalificationmethod",t,null===(i=this.option.controller)||void 0===i?void 0:i.servicetype)}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(o.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},iaau:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var o=i("fXoL");let n=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)}}),t})()},w86f:function(t,e,i){"use strict";i.r(e),i.d(e,"ModifyqualificationmethodModule",(function(){return L}));var o=i("ofXK"),n=i("tyNb"),a=i("M3sX"),r=i("Zivw"),l=i("Iuba"),s=i("hpyX"),c=i("fXoL"),d=i("x6Xy"),u=i("qMpK"),h=i("l5Yv"),b=i("SfH5"),p=i("P0lq"),v=i("GvSL"),f=i("oJeN"),g=i("3Pt+"),m=i("/pOC"),y=i("MOn6"),w=i("yO6f"),q=i("kXfN");const x=["treeCom"],N=["qualtable"],O=["addqualificaitonmethod"];function C(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",20),c.Ob(1,"x-link",21),c.Vb("click",(function(){c.mc(t);const i=e.$row,o=c.Yb();return!o.disabled&&o.add("delete",i)})),c.Nb(),c.Nb()}if(2&t){const t=c.Yb();c.yb(1),c.ec("disabled",t.disabled)}}function M(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",20),c.Ob(1,"x-select",22),c.Vb("ngModelChange",(function(i){return c.mc(t),e.$row.roleid=i}))("ngModelChange",(function(){c.mc(t);const i=e.$row;return c.Yb().rowchange(2,i)})),c.Nb(),c.Nb()}if(2&t){const t=e.$row,i=c.Yb();c.yb(1),c.ec("disabled",i.disabled)("data",i.roles)("ngModel",t.roleid)}}function k(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",20),c.Ob(1,"x-input",23),c.Vb("ngModelChange",(function(i){return c.mc(t),e.$row.methodname=i}))("ngModelChange",(function(){c.mc(t);const i=e.$row;return c.Yb().rowchange(1,i)})),c.Nb(),c.Nb()}if(2&t){const t=e.$row,i=c.Yb();c.yb(1),c.ec("disabled",i.disabled)("ngModel",t.methodname)}}const j=function(t,e,i){return{actions:t,role:e,editmethodname:i}},I=[{path:"",component:(()=>{class t{constructor(t,e,i,o,n){this.service=t,this.qualimethodservice=e,this.roleservice=i,this.msgBox=o,this.msg=n,this.roles=[],this.tableindex=1,this.tablesize=20,this.tabletotal=0,this.tablequery={},this.data=[],this.displayselquli="none",this.modify=2,this.addvisible=!1,this.projectsearchkey="",this.methodsearchkey="",this.tablecolumns=[{id:"index",label:"\u5e8f\u53f7",width:80,type:"index",flex:1},{id:"role",label:"\u7ec4\u522b",width:100},{id:"testproject",label:"\u9879\u76ee",width:150},{id:"standardname",label:"\u6807\u51c6",width:500},{id:"editmethodname",label:"\u65b9\u6cd5",width:300}],this.modifyrows=[],this.roleservice.getList(),this.service.getList(1,Number.MAX_SAFE_INTEGER).subscribe(t=>{this.data=t.list,this.gettableallData(this.data[0].id)})}indexChange(t){this.tablequery={},this.tableindex=t,this.gettableData()}sortChange(t){this.tablequery={},this.tablequery.sort=t,this.gettableData()}ngOnInit(){}gettableallData(t){this.tableindex=1,this.qualimethodservice.getqualificationmethods(t).subscribe(t=>{this.tablealldata=t.list,this.tablequery={},this.gettableData(),this.roleservice.getroletaskdispatchs("").subscribe(t=>{this.roles=t})})}gettableData(){this.qualimethodservice.gethandledata(this.tablealldata,this.tableindex,this.tablesize,this.tablequery).subscribe(t=>{this.tabletotal=Number(t.total),this.tabledata=[...t.list]})}add(t,e){"add"==t&&null!=this.qualtable.activatedRow&&null!=this.qualtable.activatedRow&&(this.addvisible=!0,this.addqualificaitonmethod.setMethod(this.qualtable.activatedRow)),"delete"==t&&this.msgBox.confirm({title:"\u63d0\u793a",content:`\u6b64\u64cd\u4f5c\u5c06\u5220\u9664\u5206\u914d\u7684\u7528\u6237\u6216\u8005\u89d2\u8272\uff1a${null==e?void 0:e.testproject}\uff0c\u662f\u5426\u7ee7\u7eed\uff1f`,type:"warning",callback:t=>{"confirm"===t&&null!=e&&this.qualimethodservice.deletequalificationmethod(e).subscribe(t=>{var e=this.tabledata.findIndex(e=>e.id==t.id);-1!=e&&(this.tabledata[e]=t,this.tabledata=[...this.tabledata])})}})}datachange(t){null!=t&&null!=t&&this.qualimethodservice.addqualificationmethod(t).subscribe(e=>{var i=this.tablealldata.findIndex(t=>{var e;return t.id==(null===(e=this.qualtable.activatedRow)||void 0===e?void 0:e.id)});-1!=i&&(this.tablealldata.splice(i,0,t),this.tableindex=1,this.tablequery={},this.gettableData(),this.msg.success("\u6dfb\u52a0\u6210\u529f"))}),this.addvisible=!1}get disabled(){return!1}search(){(""!=this.projectsearchkey||this.methodsearchkey)&&this.qualimethodservice.getqualificationmethodbysearchkey(this.projectsearchkey,this.methodsearchkey).subscribe(t=>{this.tablealldata=t.list,this.tableindex=1,this.tablequery={filter:[]},this.gettableData()})}rowchange(t,e){if(-1==this.modifyrows.findIndex(t=>t.id==e.id))switch(t){case 1:e.beforemethodname!=e.methodname&&(this.modifyrows.push(e),e.beforemethodname=e.methodname);break;case 2:e.beforeroleid!=e.roleid&&(this.modifyrows.push(e),e.beforeroleid=e.roleid)}}tablerowchange(t){}save(){this.modifyrows.length>0&&this.qualimethodservice.updatequalificationmethod(this.modifyrows).subscribe(t=>{this.msg.success("\u4fdd\u5b58\u6210\u529f!"),this.modifyrows=[]})}action(t){this.selected=t,this.tableindex=1,this.gettableallData(t.id)}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(a.e),c.Ib(s.a),c.Ib(r.a),c.Ib(d.c),c.Ib(u.c))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-modifyqualificationmethod"]],viewQuery:function(t,e){var i;1&t&&(c.Cc(x,!0),c.Cc(N,!0),c.Cc(O,!0)),2&t&&(c.jc(i=c.Wb())&&(e.treeCom=i.first),c.jc(i=c.Wb())&&(e.qualtable=i.first),c.jc(i=c.Wb())&&(e.addqualificaitonmethod=i.first))},decls:36,vars:23,consts:[["width","35%","height","25%","placement","top",3,"visible","showConfirm","showCancel","backdropClose","hasBackdrop","visibleChange"],["Seldialog",""],[2,"height","100%","width","100%",3,"datachange"],["addqualificaitonmethod",""],["span","5"],["label","\u9879\u76ee","direction","row",3,"ngModel","ngModelChange"],["label","\u6d4b\u8bd5\u6807\u51c6","direction","row",3,"ngModel","ngModelChange"],["span","4"],["title","\u67e5\u8be2","icon","ado-search","plain","",2,"color","blue",3,"click"],["icon","fto-plus","plain","",2,"color","blue",3,"click"],["icon","fto-save","plain","",2,"color","blue",3,"click"],[2,"overflow","scroll","height","650px"],["au-adaption","","expandedLevel","0",3,"outerHeight","data","activatedId","nodeHeight","activatedChange"],["treeCom",""],["span","19"],["scrollYWidth","50","loading","","adaptionHeight","120",3,"columns","data","size","total","index","query","bodyColumnTpl","virtualScroll","sizeChange","indexChange","sortChange","activatedRowChange"],["qualtable",""],["actionsTpl",""],["selectroleTpl",""],["editmethodTpl",""],[1,"au-table-actions"],["icon","fto-trash-2","title","\u5220\u9664",3,"disabled","click"],[3,"disabled","data","ngModel","ngModelChange"],[3,"disabled","ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(c.Ob(0,"x-dialog",0,1),c.Vb("visibleChange",(function(t){return e.addvisible=t})),c.Ob(2,"app-addmethodqualification",2,3),c.Vb("datachange",(function(t){return e.datachange(t)})),c.Nb(),c.Nb(),c.Ob(4,"x-row"),c.Ob(5,"x-col",4),c.Ob(6,"x-input",5),c.Vb("ngModelChange",(function(t){return e.projectsearchkey=t})),c.Nb(),c.Nb(),c.Ob(7,"x-col",4),c.Ob(8,"x-input",6),c.Vb("ngModelChange",(function(t){return e.methodsearchkey=t})),c.Nb(),c.Nb(),c.Ob(9,"x-col",7),c.Ob(10,"x-button",8),c.Vb("click",(function(){return e.search()})),c.xc(11,"\u67e5\u8be2"),c.Nb(),c.Nb(),c.Ob(12,"x-col",7),c.Ob(13,"x-button",9),c.Vb("click",(function(){return e.add("add")})),c.xc(14,"\u6dfb\u52a0"),c.Nb(),c.Nb(),c.Ob(15,"x-col",7),c.Ob(16,"x-button",10),c.Vb("click",(function(){return e.save()})),c.xc(17,"\u4fdd\u5b58"),c.Nb(),c.Nb(),c.Nb(),c.Ob(18,"x-row"),c.Ob(19,"x-col",4),c.Ob(20,"x-row"),c.Ob(21,"h4"),c.Ob(22,"span"),c.xc(23,"\u8d44\u8d28\u6811"),c.Nb(),c.Nb(),c.Ob(24,"div",11),c.Ob(25,"x-tree",12,13),c.Vb("activatedChange",(function(t){return e.action(t)})),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(27,"x-col",14),c.Ob(28,"x-table",15,16),c.Vb("sizeChange",(function(t){return e.tablesize=t}))("indexChange",(function(t){return e.tableindex=t}))("indexChange",(function(t){return e.indexChange(t)}))("sortChange",(function(t){return e.sortChange(t)}))("activatedRowChange",(function(t){return e.tablerowchange(t)})),c.Nb(),c.Nb(),c.Nb(),c.vc(30,C,2,1,"ng-template",null,17,c.wc),c.vc(32,M,2,3,"ng-template",null,18,c.wc),c.vc(34,k,2,2,"ng-template",null,19,c.wc)),2&t){const t=c.kc(31),i=c.kc(33),o=c.kc(35);c.ec("visible",e.addvisible)("showConfirm",!1)("showCancel",!1)("backdropClose",!1)("hasBackdrop",!1),c.yb(6),c.ec("ngModel",e.projectsearchkey),c.yb(2),c.ec("ngModel",e.methodsearchkey),c.yb(17),c.ec("outerHeight",50)("data",e.data)("activatedId",e.activatedId)("nodeHeight",1.875),c.yb(3),c.ec("columns",e.tablecolumns)("data",e.tabledata)("size",e.tablesize)("total",e.tabletotal)("index",e.tableindex)("query",e.tablequery)("bodyColumnTpl",c.ic(19,j,t,i,o))("virtualScroll",!0)}},directives:[h.a,l.a,b.c,b.a,p.a,g.q,g.t,v.a,m.a,y.a,w.a,q.a,f.a],styles:[""]}),t})()}];let S=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[n.i.forChild(I)],n.i]}),t})();var V=i("gjGi"),X=i("hHlV"),H=i("873N"),D=i("iaau");let L=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[o.c,V.a,X.a,v.b,m.b,b.b,w.b,H.a,D.a,p.b,f.b,h.b,S]]}),t})()}}]);